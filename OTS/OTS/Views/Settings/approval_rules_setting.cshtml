@{ Html.RenderPartial("_SettingsMenu"); }
<link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css"
      rel="stylesheet" type="text/css" />
<script src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js"
        type="text/javascript"></script>
<script src="~/assets/js/CommanJS.js"></script>

<style>
    .table-responsive {
        overflow-x: auto;
        overflow-y: auto;
    }

    span {
        font-weight: 200 !important;
    }

    .mybtncls.btnlast {
        list-style-type: none;
        float: right;
        padding-right: 4px !important;
        padding-left: 0px !important;
    }

    .mybtncls {
        list-style-type: none;
        padding-right: 4px !important;
        padding-left: 0px !important;
    }

        .mybtncls li {
            float: left;
            padding-left: 5px !important;
            padding-top: 5px !important;
        }

    .cmplitetextalign {
        margin-left: 18px;
    }

    .button {
        font: bold 11px Arial;
        text-decoration: none;
        color: #fff;
        padding: 2px 6px 2px 6px;
        /*border-top: 1px solid #CCCCCC;
        border-right: 1px solid #333333;
        border-bottom: 1px solid #333333;
        border-left: 1px solid #CCCCCC;*/
        background-color: #00c5fb;
        border: 1px solid #00c5fb;
    }
</style>
<script>
    $(document).ready(function () {
        $('ul li#myli10').addClass('active');
        $("#txt_value").show();      
   
        var i = 0, j = 0, k = 0;
        currentRow = null;
        currentRow1 = null;
        currentRow2 = null;

        bindUser("ddl_fyi_employee_name");

        $("#chk_fyeicheck").on("change", function () {
            if ($(this).is(":checked") == true) {
                bindUser("ddl_fyi_employee_name");
                //$(".commonfyi").show();
                $(".commonfyi select").prop('disabled', false);
                $(".commonfyi input[type='text']").prop('disabled', false);
            } else {
                $("#ddl_fyi_frequency option:contains(Select)").attr("selected", true);
                $("#ddl_fyi_employee_name option:contains(Select)").attr("selected", true);
                //$("#ddl_fyi_employee_name").html();
                //$("#ddl_fyi_employee_name").append($('<option></option>').html("Select"));
                $(".commonfyi select").prop('disabled', true);
                $(".commonfyi input[type='text']").prop('disabled', true);
                //$(".commonfyi").hide();
            }
        });

        $('#btn_condition').on('click', function () {
       
            //    $("#ddl_condition_type").multiselect("disable").css('background-color', '#eee');

            $("#txt_value").val("").prop("disabled", false);
            $("#txt_formula").text("");
            $("#hd_formula").text("");
            
            $("#ddl_condition_type").prop("disabled", true);
            var condition_for = $('#For option:selected').val();
            var condition_type = $('#ddl_Type option:selected').text();
            var condition_typeId = $('#ddl_Type option:selected').val();
            if (condition_for != '0' && condition_type != 'Select') {
                $('#txt_type').val(condition_type);
                $('#hdn_txttype').val(condition_typeId);

                //var selected_tags_arr = new Array();
                //var selected_tags = 1,2, 4;
                var data_selected = [];

                $.each($("#ddl_Type  option:selected"), function () {
                    data_selected.push($(this).val());
                });
                var data_all = [];
                $.each($("#ddl_Type option"), function () {
                    data_all.push($(this).val());
                });
                //   $("#ddl_condition_type").multiselect('deselect_all');
                //$('#ddl_condition_type').multiselect('deselect', data_all);
                //$('#ddl_condition_type').multiselect('select', data_selected);
                $('#ddl_condition_type').val($("#ddl_Type").val());
                bindUser("ddl_aproval_auto_approve_emp_name");
                bindUser("ddl_fyi_employee_name");

                $('#modal_conditions').modal('show');
            }
            else if (condition_for == '0') {
                alert("For can't be blank.");
                setTimeout(function () { $('#For').focus(); });
            }
            else {
                alert("Type can't be blank.");
                setTimeout(function () { $('#ddl_Type').focus(); });
            }

             // $("#btn_criteria_clear_text").trigger("click");
            emptytext_Conditions();


                    $('#ddl_value').hide();
                    $('#txt_value').show();
        });

        $("input[name='Approval_name']").on("change", function ()
        {
            if ($(this).val() == "Hierarchy")
            {
                $(".div_apprival_single_user select").prop('disabled', true);
                $(".div_apprival_hierarchy select").prop('disabled', false);
                bind_Hierarchy_Name();
                bindUser("ddl_aproval_auto_approve_emp_name");

            }
            else if ($(this).val() == "Single")
            {
                $(".div_apprival_hierarchy select").prop('disabled', true);
                bind_Hierarchy_Name();
                $(".div_apprival_single_user select").prop('disabled', false);
                bindUser("ddl_aproval_auto_approve_emp_name");
            }
            else
            {
                $(".div_apprival_hierarchy select").prop('disabled', true);
                $(".div_apprival_single_user select").prop('disabled', true);
                bind_Hierarchy_Name();
                bindUser("ddl_aproval_auto_approve_emp_name");
            }
        });

        $('#btn_formulaApprroval').on('click', function () {
            $.ajax({
                type: 'POST',
                url: '',
                contentType: '',
                data: JSON.stringify({}),
                dataType: 'json',
                success: function () { },
                error: function () { }
            });
            $('#modal_approval').modal('show');
        });

        $('#btn_ConditionClose').on('click', function ()
        {         
            $('#modal_conditions').modal('hide');
        });

        $('#btn_ApprovalClose').on('click', function () { 
            $('#modal_approval').modal('hide');
            $('#modal_conditions').modal('show');
        });

        $('#btn_criteria').on('click', function () { 

            if ($("#txt_formula").val() == "") {
                if ($("#ddl_fields option:selected").text() == "Select") {
                    alert("Please Select Fields ! ");
                    return false;
                }
                if ($("#ddl_opertor option:selected").text() == "Select") {
                    alert("Please Select Opertor ! ");
                    return false;
                }
                if ($("#ddl_fields option:selected").text() == "User") {
                    if ($("#ddl_value option:selected").text() == "Select") {
                        alert("Please Select Value ! ");
                        return false;
                    }
                }
                if ($("#ddl_fields option:selected").val() == "NUMEBR_OF_DAYS") {
                    if ($("#txt_value").val() == "") {
                        alert("Value Can't be Blank ! ");
                        return false;
                    }
                }

                var value = $("#ddl_fields option:selected").text() == "User" ? $("#ddl_value option:selected").text() : $("#txt_value").val();
                var value_id = $("#ddl_fields option:selected").text() == "User" ? $("#ddl_value option:selected").val() : $("#txt_value").val();
                var value_for_hd = $("#ddl_fields option:selected").val() == "PERSON_ID" ? $("#ddl_value option:selected").val() : $("#txt_value").val();
                $("#txt_formula").append($("#ddl_fields option:selected").text() + " " + $("#ddl_opertor option:selected").text() + " " + value).text();
                $("#hd_formula").append($("#ddl_fields option:selected").val() + " " + $("#ddl_opertor option:selected").val() + " " + value_id).val();
                $("#separator_DP").prop("disabled", false);
                $("#ddl_fields").prop("disabled", true);
                $("#ddl_opertor").prop("disabled", true);
                $("#ddl_value").prop("disabled", true);
                
            } else {
                if ($("#separator_DP option:selected").text() == "select") {
                    alert("Please select Condition ! ");
                    return false;
                }
                if ($("#ddl_fields option:selected").text() == "Select") {
                    alert("Please Select Fields ! ");
                    return false;
                }
                if ($("#ddl_opertor option:selected").text() == "Select") {
                    alert("Please Select Opertor ! ");
                    return false;
                }
                if ($("#ddl_fields option:selected").text() == "User") {
                    if ($("#ddl_value option:selected").text() == "Select") {
                        alert("Please Select Value ! ");
                        return false;
                    }
                }
                if ($("#ddl_fields option:selected").val() == "NUMEBR_OF_DAYS") {
                    if ($("#txt_value").val() == "") {
                        alert("Value Can't be Blank ! ");
                        return false;
                    }
                }

                var value = $("#ddl_fields option:selected").text() == "User" ? $("#ddl_value option:selected").text() : $("#txt_value").val();
                var value_id = $("#ddl_fields option:selected").text() == "User" ? $("#ddl_value option:selected").val() : $("#txt_value").val();
                var value_for_hd = $("#ddl_fields option:selected").val() == "PERSON_ID" ? $("#ddl_value option:selected").val() : $("#txt_value").val();
                $("#txt_formula").append(" " + $("#separator_DP").val() + " " + $("#ddl_fields option:selected").text() + " " + $("#ddl_opertor option:selected").text() + " " + value).text();
                $("#hd_formula").append(" " + $("#separator_DP").val() + " " + $("#ddl_fields option:selected").val() + " " + $("#ddl_opertor option:selected").val() + " " + value_id).val();
                $("#ddl_fields").prop("disabled", true);
                $("#ddl_opertor").prop("disabled", true);
                $("#ddl_value").prop("disabled", true);
            }

            $("#ddl_fields").val('0');
            $("#ddl_opertor").val('0');
            $("#ddl_value").html('');
            $("#txt_value").val('');
         //   $("#separator_DP option:selected").text('Select');
            $("#separator_DP").val('');
            $('#ddl_value').show();
            $('#txt_value').hide();
            bindUser("ddl_value");
          


        });

        $("#separator_DP").on('change', function () {

            $("#ddl_fields").prop("disabled", false);
            $("#ddl_opertor").prop("disabled", false);
            $("#ddl_value").prop("disabled", false);

        });

        $("#btn_criteria_clear_text").on("click", function () {
            $("#txt_formula").text('');
            $("#hd_formula").text('');
            $("#separator_DP").val('').prop("disabled", true);
            $("#ddl_fields").prop("disabled", false);
            $("#ddl_opertor").prop("disabled", false);
            $("#ddl_value").hide(); 
            $('#txt_value').val("").show();
        });

        $("#ddl_aproval_hierarchy_max_level").html('');

        $("#ddl_aproval_hierarchy_max_level").append($('<option></option>').val(0).html("Select"));

        $("#ddl_aproval_hierarchy_name").on("change", function () {
            if ($(this).val() != 0) {
                bind_Hierarchy_Level($(this).val());
            } else {
                $("#ddl_aproval_hierarchy_max_level").html('');
                $("#ddl_aproval_hierarchy_max_level").append($('<option></option>').val(0).html("Select"));
            }

        });

        $("#btn_save_approval").on("click", function () {
            if ($("#For").val() == "0") {
                alert("Please select For !");
                return false;
            }
            if ($("#ddl_Type").html() == "") {
                alert("Please select Type !");
                return false;
            }
            if ($("#ddl_ApprovalTypeFor").html() == "") {
                alert("Please select Approval Type For !");
                return false;
            }
            if ($("#txtPolicyName").val() == "") {
                alert("Rule Name Can't be blank !");
                return false;
            }
            if ($("#txt_approval_start_date").val() == "") {
                alert("Start Date Can't be blank !");
                return false;
            }
            if ($("#txt_approval_end_date").val() == "") {
                alert("End Date Can't be blank !");
                return false;
            }

            if ($("#tbl_all_condition tbody").find('tr').length==0) {
                alert("Conditions Can't be empty !");
                return false;
            }


            var approvalrule = {};
            var condition = [];

            $("#tbl_all_condition tbody").find('tr').each(function () {
                var mydata = {
                    'type': $(this).find('td').eq(0).attr('data_id'),
                    'formula': $(this).find('td').eq(1).html(),
                    'formula_Value': $(this).find('td').eq(1).attr('data_id'),
                    'hierarchyname': $(this).find('td').eq(2).html(),
                    'hierarchymaxlevel': $(this).find('td').eq(3).html(),
                    'chk_hierarch': $(this).find('td').eq(2).attr('data_chk'),
                    'chk_singleuser': $(this).find('td').eq(4).attr('data_chk'),
                    'singleuser_code': $(this).find('td').eq(4).attr('data_id'),  
                    'chk_approval': $(this).find('td').eq(5).attr('data_id'),
                    'chk_fyi': $(this).find('td').eq(6).attr('data_chk'), 
                    'fyi_frequency': $(this).find('td').eq(6).html(),
                    'fyi_email': $(this).find('td').eq(7).html(),
                    'fyi_employee': $(this).find('td').eq(8).attr('data_id')
                }
                condition.push(mydata);
            });

            approvalrule.For = $('#For option:selected').text();
            approvalrule.Type = $('#ddl_Type option:selected').val();
            approvalrule.RuleName = $('#txtPolicyName').val();
            approvalrule.ApprovalTypeFor = $('#ddl_ApprovalTypeFor').val();
            approvalrule.StartDate = $('#txt_approval_start_date').val();
            approvalrule.EndDate = $('#txt_approval_end_date').val();
            approvalrule.Status = $('#ddlStatus option:selected').text();
            approvalrule.condition = condition;

            $.ajax({
                type: 'POST',
                url: '/settings/saveapprovalrule',
                contentType: 'application/json;charset=utf-8',
                data: JSON.stringify(approvalrule),
                dataType: 'json',
                success: function (data) {

                    var msg = [];
                    msg = data.split(',');
                    alert(msg[1]);
                    window.location.href = "/settings/approval_rules";
                    emptytext_Approval_rule();
                    emptytext_Conditions();
                }

            })

         

        });

        $("#btn_conditionSave").on("click", function () {

            if ($("#txt_formula").text() == "") {
                alert("Formula  Can't be blank !");
                return false;
            }
            if ($("input[name='Approval_name']").is(":checked") == false) {
                alert("Please select Approval");
                return false;
            }


            if ($("#hierarchy").is(":checked") == true) {
                if ($("#ddl_aproval_hierarchy_name").text() == "") {
                    alert("Please Select Hierarchy Name !");
                    return false;
                }
                if ($("#ddl_aproval_hierarchy_name").text() == "") {
                    alert("Please Select Hierarchy Max Level !");
                    return false;
                }
            }
            if ($("#single_user").is(":checked") == true) {
                if ($("#ddl_aproval_auto_approve_emp_name option:selected").text() == "Select") {
                    alert("Please select Employee Name !");
                    return false;
                }
            }

            if ($("#chk_fyeicheck").is(":checked") == true) {
                if ($("#ddl_fyi_frequency option:selected").text() == "Select") {
                    alert("Please select Frequency !");
                    return false;
                }
                if ($("#ddl_fyi_employee_name option:selected").text() == "Select") {
                    alert("Please select Employee Name !");
                    return false;
                }
            } 
            var markup = "";
            markup += "<tr>";
            markup += "<td data_id='" + $("#ddl_condition_type").val() + "'   style='display: none;' >" + $("#ddl_condition_type option:selected").text() + "</td>";

            markup += "<td data_id='" + $("#hd_formula").text() + "'  style='width: 40% ;'>" + $("#txt_formula ").text() + "</td>";

            if ($("#hierarchy").is(":checked") == true) {
                markup += "<td  data_chk='1' style='width: 20% ;'>" + $("#ddl_aproval_hierarchy_name option:selected").text() + "</td>";
                markup += "<td   style='display: none;'>" + $("#ddl_aproval_hierarchy_max_level option:selected").text() + "</td>";
            } else {
                markup += "<td  data_chk='0' style='width:20% ;'>No</td>";
                markup += "<td  style='display: none;'></td>";
            }
            if ($("#single_user").is(":checked") == true) {
                markup += "<td  data_chk='1' data_id='" + $("#ddl_aproval_auto_approve_emp_name option:selected").val() + "' style='width: 20% ;'>" + $("#ddl_aproval_auto_approve_emp_name option:selected").text() + "</td>";
            } else {
                markup += "<td  data_chk='0'   data_id='" + "" + "' style='width: 20% ;'>No</td>";
            }
            if ($("#auto_approval").is(":checked") == true) {
                markup += "<td  data_chk='1' data_id='1'  style='width: 15% ;'>Yes</td>";
            } else {
                markup += "<td data_chk='0' data_id='0' style='width: 15% ;'>No</td>";
            }
            if ($("#chk_fyeicheck").is(":checked") == true) {
                markup += "<td data_chk='1' style='display: none;'>" + $("#ddl_fyi_frequency option:selected").text() + "</td>";
                markup += "<td style='word-break:break-all;display: none;'>" + $("#txt_fyi").val() + "</td>";
                markup += "<td data_id='" + $("#ddl_fyi_employee_name option:selected").val() + "' style='display: none;'>" + $("#ddl_fyi_employee_name option:selected").text() + "</td>";
            } else {
                markup += "<td  data_chk='0' style='display: none;'></td>";
                markup += "<td style='display: none;'></td>";
                markup += "<td   data_id='" + "" + "' style='display: none;'></td>";
            }
            markup += "<td style='width:5% ;'> <a href='javascript:void(0)' class='font-18 btnEdit' title='Edit'><i class='fa fa-pencil m-r-5' aria-hidden='true'></i></a> <a href='javascript:void(0)' data-toggle='modal' class='btn_view' title='View' data-target='#modal_condition_view'><i class='glyphicon glyphicon-eye-open' aria-hidden='true'></i></a></td>";

            if (currentRow) {
                $("#tbl_all_condition tbody").find($(currentRow)).replaceWith(markup);
                currentRow = null;
                alert("Successfully updated row.")
            } else {

                currentRow = null;
                $("#tbl_all_condition tbody").append(markup);
            }
            $("#modal_conditions").modal('hide');

        });

        $("#btn_conditionCancel").on("click", function () {
            $("#modal_conditions").modal("hide");
        });

        //$(".btn_view").on()
        $(document).on("click", ".btn_view", function () {  
            $("#v_type").text($(this).closest('tr').find('td').eq(0).html());
            $("#v_formula").text($(this).closest('tr').find('td').eq(1).html());
            $("#v_h_Name").text($(this).closest('tr').find('td').eq(2).html());
            $("#v_h_max_lavel").text($(this).closest('tr').find('td').eq(3).html());
            $("#v_su_Name").text($(this).closest('tr').find('td').eq(4).html());
            $("#v_au_autoapproval").text($(this).closest('tr').find('td').eq(5).html());
            $("#v_fyi_frequency").text($(this).closest('tr').find('td').eq(6).html());
            $("#v_fyi_Email").text($(this).closest('tr').find('td').eq(7).html());
            $("#v_fyi_Employee").text($(this).closest('tr').find('td').eq(8).html());
        });

        $(document).on("click", ".btnEdit", function () {
        
            currentRow = $(this).parents('tr');
            $("#ddl_condition_type").val($(this).closest('tr').find('td').eq(0).attr("data_id"));
            $("#txt_formula").text($(this).closest('tr').find('td').eq(1).html());
            $("#hd_formula").text($(this).closest('tr').find('td').eq(1).attr("data_id"));
            if ($(this).closest('tr').find('td').eq(2).attr("data_chk") == 0) {
                $("#hierarchy").prop("checked", false);
                //$(".div_apprival_hierarchy").hide();
                $("#ddl_aproval_hierarchy_name").val(0);
                $("#ddl_aproval_hierarchy_max_level option:contains(Select)").attr("selected", true); 
                //$("#ddl_aproval_hierarchy_max_level").html("");
                //$("#ddl_aproval_hierarchy_max_level").append($("<option></option>").val(0).text("Select"));

            } else {
                $("#hierarchy").prop("checked", true);
                //$(".div_apprival_hierarchy").show();
                $("#ddl_aproval_hierarchy_name").val($(this).closest('tr').find('td').eq(2).html());
                $("#ddl_aproval_hierarchy_max_level").val($(this).closest('tr').find('td').eq(3).html()); 
            }


            if ($(this).closest('tr').find('td').eq(4).attr("data_chk") == 0) {
                $("#single_user").prop("checked", false);
                //$(".div_apprival_single_user").hide(); 
                //$("#ddl_aproval_auto_approve_emp_name").html("");
                //$("#ddl_aproval_auto_approve_emp_name").append($("<option></option>").text("Select"));
                $("#ddl_aproval_auto_approve_emp_name option:contains(Select)").attr("selected", true); 

            } else {
                $("#single_user").prop("checked", true);
                //$(".div_apprival_single_user").show();
                $("#ddl_aproval_auto_approve_emp_name").val($(this).closest('tr').find('td').eq(4).attr("data_id"));
               
            }

            if ($(this).closest('tr').find('td').eq(5).attr("data_chk") == 0) {
                $("#auto_approval").prop("checked", false); 
            } else {
                $("#auto_approval").prop("checked", true);  
            }

            if ($(this).closest('tr').find('td').eq(6).attr("data_chk") == 0) {
                $("#chk_fyeicheck").prop("checked", false);
                //$(".commonfyi").hide();
                //$("#ddl_fyi_frequency option:selected").text("Select");
                $("#ddl_fyi_frequency option:contains(Select)").attr("selected", true); 
                //$("#ddl_fyi_employee_name").html("");
                //$("#ddl_fyi_employee_name").append($("<option></option>").text("Select"));

                $("#ddl_fyi_employee_name option:contains(Select)").attr("selected", true); 
                
                $("#txt_fyi").val("");
            } else {
             
                $("#chk_fyeicheck").prop("checked", true);
                $(".commonfyi").show();
                $("#ddl_fyi_frequency option:selected").text($(this).closest('tr').find('td').eq(6).html());
                $("#txt_fyi").val($(this).closest('tr').find('td').eq(7).html());
                debugger;
                //$("#ddl_fyi_employee_name option:selected").val($(this).closest('tr').find('td').eq(8).attr('data_id'));
                                $("#ddl_fyi_employee_name option:selected").val(13);
            } 
           $("#modal_conditions").modal("show");
        });

        $('#btn_cancel_approval').on('click', function () {
            if (confirm('Are you sure?') == true)
                window.location.href = "/settings/approval_rules";
            else {
                return false;
            
            }
        });
        
    });

    function emptytext_Approval_rule() {

        $("#For").val(0);
        $("#ddl_Type").html("");
        $("#txtPolicyName").val("");
        $("#txt_approval_start_date").val("");
        $("#txt_approval_end_date").val(""); 
        $("#tbl_all_condition tbody").empty();

        
    }

    function emptytext_Conditions()
    {
           $("#separator_DP").val('');
            $("#separator_DP").prop("disabled", true);
            
            $("#ddl_fields").val(0).prop("disabled", false);
            $("#ddl_opertor").val(0).prop("disabled", false); 
            
          //  $("#btn_criteria_clear_text").trigger("click");

            $("input[name='Approval_name']").prop('checked', false);
            //$(".div_apprival_hierarchy").hide();
            //$(".div_apprival_single_user").hide();

            $(".div_apprival_hierarchy select").prop('disabled', true);
            $(".div_apprival_single_user select").prop('disabled', true);
            $(".commonfyi select").prop('disabled', true);
            $(".commonfyi input[type='text']").prop('disabled', true);
            //$(".div_apprival_single_user").hide();

            bind_Hierarchy_Name();
            $("#chk_fyeicheck").prop("checked", false); 
            $("#ddl_fyi_employee_name").html();
            $("#ddl_fyi_employee_name").append($('<option></option>').html("Select"));           
    }

    function LeaveTypeOnChg(t) {
        var leave_type = $(t).val();
        if (leave_type == "1") {
            bindLeave();
            $('.lav').css("display", "block");
            $('.advanceexp').css("display", "none");
            $(".userli").css("display", "block");
            $('.exp').css("display", "none");
        }
        else if (leave_type == "2") {
            bindExpence();
            //$("#ddl_Type").html("");
            // $('#ddl_Type').multiselect('rebuild');
            $('.lav').css("display", "none");
            $(".userli").css("display", "block");
            $('.exp').css("display", "block");
            $('.advanceexp').css("display", "none");
        }
        else if (leave_type == "3") {
            bindAdvance_Loan(); 
            $('.lav').css("display", "none");
            $(".userli").css("display", "none");
            $('.exp').css("display", "none");
            $('.advanceexp').css("display", "block");
        }
        else if (leave_type == "4") {
            $('.advanceexp').css("display", "none");
            $('.lav').css("display", "block");
            $('.exp').css("display", "none");
            $("#ddl_Type").html("");
            $('#ddl_condition_type').html("");
        //    $("#ddl_Type").append($('<option></option>').html("Select"));
            $("#ddl_Type").append($('<option></option>').val(3).html("Leave Encashment"));
         //   $("#ddl_condition_type").append($('<option></option>').html("Select"));
            $("#ddl_condition_type").append($('<option></option>').val(3).html("Leave Encashment"));    

            $(".userli").css("display", "none");
        }
        else {
            $('.advanceexp').css("display", "none");
            $("#ddl_Type").html("");
            // $("#ddl_Type").append($('<option></option>').html("Select"));
            // $('#ddl_Type').multiselect('rebuild');
            $('.lav').css("display", "none");
            $('.exp').css("display", "none");

        }


    }

    function bind_Hierarchy_Name() {
        $.ajax({
            type: 'POST',
            url: '/settings/Bind_Hierarchy_Name',
            contentType: 'application/json;charset=utf-8',
            data: {},
            dataType: 'json',
            success: function (data) {
                debugger;
                if (data != null) {
                    var len = Object.keys(data).length;
                    var mydata = [];
                    mydata = data.split(',');


                    $("#ddl_aproval_hierarchy_name").html("");
                    $("#ddl_aproval_hierarchy_name").append($('<option></option>').val(0).html("Select"));  
                    $("#ddl_aproval_hierarchy_max_level").html("");
                    $("#ddl_aproval_hierarchy_max_level").append($('<option></option>').val(0).html("Select"));
                    

                    for (var i = 0; i < mydata.length; i++) {
                        $('#ddl_aproval_hierarchy_name').append('<option value="' + mydata[i] + '">' + mydata[i] + '</option>');
                    }
                     
                }
                else {
                    alert('no data found.');
                }
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }

    function bind_Hierarchy_Level(T) {
        $.ajax({
            type: 'POST',
            url: '/settings/Bind_Hierarchy_Level',
            contentType: 'application/json;charset=utf-8',
            data: JSON.stringify({'Name':T }),
            dataType: 'json',
            success: function (data) {
                debugger;
                if (data != null) {
                    var len = Object.keys(data).length;
                    var mydata = [];
                    mydata = data.split(',');
                    $("#ddl_aproval_hierarchy_max_level").html("");
                    $("#ddl_aproval_hierarchy_max_level").append($('<option></option>').val(0).html("Select"));


                    for (var i = 0; i < mydata.length; i++) {
                        $('#ddl_aproval_hierarchy_max_level').append('<option value="' + mydata[i] + '">' + mydata[i] + '</option>');
                    }

                }
                else {
                    alert('no data found.');
                }
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }

    function bindAdvance_Loan() {   
           $.ajax({
               type: 'POST',
               url: '/settings/BindLoadType',
               contentType: 'application/json;charset=utf-8',
               data: {},
               dataType: 'json',
               success: function (data) {
                   if (data != null) {
                       var len = Object.keys(data).length;
                       $("#ddl_Type").html("");
                       $("#ddl_condition_type").html("");
                       //Append each row to dropdown
                       for (var i = 0; i < len; i++) {
                           $('#ddl_Type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                           $('#ddl_condition_type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                       }                     
                   }
                   else {
                       alert('no data found.');
                   }
               },
               error: function (data) {
                   alert(data.responseText);
               }
           });
       
    }

    function bindLeave() {
        $.ajax({
            type: 'POST',
            url: '/settings/BindLeaveType',
            contentType: 'application/json;charset=utf-8',
            data: {},
            dataType: 'json',
            success: function (data) {
                if (data != null) {
                    var len = Object.keys(data).length;
                    $("#ddl_Type").html("");
                    $("#ddl_condition_type").html("");

                    //Append each row to dropdown
                    for (var i = 0; i < len; i++) {
                        $('#ddl_Type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                        $('#ddl_condition_type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                    }
                    //$('#ddl_Type').multiselect('rebuild');
                    //$('#ddl_condition_type').multiselect('rebuild');
                }
                else {
                    alert('no data found.');
                }
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }

    function bindExpence() {
        $.ajax({
            type: 'POST',
            url: '/settings/BindExpenceType',
            contentType: 'application/json;charset=utf-8',
            data: {},
            dataType: 'json',
            success: function (data) {
                if (data != null) {
                    var len = Object.keys(data).length;
                    $("#ddl_Type").html("");
                    $("#ddl_condition_type").html("");

                    //Append each row to dropdown
                    for (var i = 0; i < len; i++) {
                        $('#ddl_Type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                        $('#ddl_condition_type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>');
                    }

                    $('#ddl_Type').append('<option value="' + data[i].leave_type_id + '">' + data[i].leave_type_name + '</option>')
                    //$('#ddl_Type').multiselect('rebuild');
                    //$('#ddl_condition_type').multiselect('rebuild');
                }
                else {
                    alert('no data found.');
                }
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }

    function bindUser(control_id) {
        $.ajax({
            type: 'GET',
            url: '/settings/GetEmployee',
            contentType: 'application/json;charset=utf-8',
            data: {},
            dataType: 'json',
            success: function (data) {
                var Employee = JSON.parse(data);
                if (Employee.length > 0)
                {
                    $("#" + control_id).html("");
                    $("#" + control_id).append($('<option></option>').val("0").html("Select"));
                    //Append each row to dropdown
                    $.each(Employee, function (txt, val) {
                        $("#" + control_id).append($('<option></option>').val(val.EMP_ID).html(val.TEMP_NAME));
                    });
                }
                else
                {
                    alert('no data found.');
                }
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }
    
    function FieldsOnchange(t) {
        var field_id = $(t).val();
        if (field_id == "PERSON_ID") { 
            $('#ddl_value').show();
            $('#txt_value').hide();
            bindUser("ddl_value");
            
        }
        else if (field_id == "d2") {
            $.ajax({
                type: 'POST',
                url: '/settings/BindRole',
                contentType: 'application/json;charset=utf-8',
                data: {},
                dataType: 'json',
                success: function (data) {
                    if (data != null) {
                        var len = Object.keys(data).length;
                        $("#ddl_value").html("");
                        $("#ddl_value").append($('<option></option>').html("Select"));
                        //Append each row to dropdown
                        for (var i = 0; i < len; i++) {

                            $("#ddl_value").append($('<option></option>').val(data[i].role_id).html(data[i].role_name));
                        }
                        $('#ddl_value').show();
                        $('#txt_value').hide();
                        $('#ddl_value').prop('disabled', false);
                    }
                    else {
                        alert('no data found.');
                    }
                },
                error: function (data) {
                    alert(data.responseText);
                }
            });
        }
        else {
            $("#ddl_value").html("");
            $("#ddl_value").append($('<option></option>').html("Select"));
            $('#ddl_value').hide();
            $('#txt_value').show();
        }
    }

    function selectText(containerid) {
        if (document.selection) { // IE
            var range = document.body.createTextRange();
            range.moveToElementText(document.getElementById(containerid));
            range.select();
        }
        else if (window.getSelection) {
            var id = '#' + containerid + '';
            $(containerid).removeClass('celllayoutpanel');
            $(containerid).addClass('celllayoutpanelselected');
        }
    }

    function myDateFormatter(dateObject) {
        var d = new Date(moment(dateObject, '"DD-MMM-YYYY').format());
        var day = d.getDate();
        var month = d.getMonth() + 1;
        var year = d.getFullYear();
        if (day < 10) {
            day = "0" + day;
        }
        if (month < 10) {
            month = "0" + month;
        }
        var date = year + "/" + month + "/" + day;

        return date;
    };

</script>
<div class="row">
    <div class="col-sm-6">
        <h4 class="page-title">Add Approval Rule</h4>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div>
            <section>
                <div class="wizard card-box">
                    <form id="example-form" action="#">
                        <div class="tab-content">
                            <div class="tab-pane active" role="tabpanel" id="step1">
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4">For<span class="text-danger">*</span></span>
                                            <div class="col-sm-8">
                                                <select class="form-control" id="For" onchange="LeaveTypeOnChg(this);">
                                                    <option value="0">Select</option>
                                                    <option value="1">Leave</option>
                                                    <option value="2">Expense</option>
                                                    <option value="3">Loan Advance</option>
                                                    <option value="4">Leave Encashment</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4">Type<span class="text-danger">*</span></span>
                                            <div class="col-sm-8">
                                                @*@Html.DropDownList("ddl_Type", (IEnumerable<SelectListItem>)ViewBag.value,"Select",new { @class = "form-control"  })*@
                                                <select id="ddl_Type" class="form-control"></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                
                                <div class="row" style="display:none">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4">Approval For<span class="text-danger">*</span></span>
                                            <div class="col-sm-8">
                                                @*@Html.DropDownList("ddl_Type", (IEnumerable<SelectListItem>)ViewBag.value,"Select",new { @class = "form-control"  })*@
                                                <select id="ddl_ApprovalTypeFor" class="form-control">
                                                    <option value="">Select</option>
                                                    <option value="EP">Employee</option>
                                                    <option value="IS">Immediate Supervisor</option>
                                                    <option value="SH">Section Head</option>
                                                    <option value="DH">Department Head</option>
                                                    <option value="MM">Management</option>
                                                    <option value="HR">Human Resource</option>
                                                    <option value="FH">Finance Head</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                    
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4">Rule Name</span>
                                            <div class="col-sm-8">
                                                <input type="text" id="txtPolicyName" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4 ">Start Date</span>
                                            <div class="col-sm-8">
                                                <input type="text" name="name" value="" placeholder="dd-mmm-yyyy" class="form-control mycal" id="txt_approval_start_date" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4 ">End Date</span>
                                            <div class="col-sm-8">
                                                <input type="text" name="name" value="" placeholder="dd-mmm-yyyy" class="form-control mycal" id="txt_approval_end_date" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-8">
                                        <div class="form-group row">
                                            <span class="col-sm-4 ">Status</span>
                                            <div class="col-sm-8">
                                                <select id="ddlStatus" class="form-control">
                                                    <option>Active</option>
                                                    <option>In-active</option>
                                                    <option selected>Draft</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>
                                <ul class="mybtncls pull-center">
                                    <li><a href="javascript:void(0);" id="btn_condition" class="btn btn-primary">Conditions</a></li>
                                    @*<li><a href="javascript:void(0);" id="btn_approval" class="btn btn-primary">Approval</a></li>*@
                                </ul>
                                <br />
                                <br />
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive">
                                            <table id="tbl_all_condition"  class="table table-striped custom-table m-b-0 " >
                                                <thead>
                                                    <tr>
                                                        <th style="display:none;" >
                                                            Type
                                                        </th>
                                                        <th style="width:40%">
                                                            Formula
                                                        </th>
                                                        <th style="width:20%">
                                                            Hierarchy Name
                                                        </th>
                                                        <th style="display:none;">
                                                            Hierarchy Max Level
                                                        </th>
                                                        <th style="width:20%">
                                                            Single User 
                                                        </th>

                                                        <th style="width:15%">
                                                            Auto Approval
                                                        </th>
                                                        <th style="display:none;">
                                                            FYI-Frequency
                                                        </th>
                                                        <th style="display:none;">
                                                            FYI-Email
                                                        </th>
                                                        <th style="display:none;">
                                                            FYI- Employee
                                                        </th>
                                                        <th style="width:5%">
                                                          Action
                                                        </th>
                                                    </tr>
                                                    
                                                </thead>
                                                <tbody>

                                                </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>


                                <ul class="mybtncls pull-right">
                                    <li>
                                        <button type="button" id="btn_save_approval" class="btn btn-primary next-step">Save</button>
                                    </li>
                                    <li><a href="javascript:void(0);" id="btn_cancel_approval" class="btn btn-primary"> Cancel</a></li>
                                </ul>
                                <br />
                                <br />
                                <br />
                            </div>

                    </form>
                </div>
            </section>
        </div>
    </div>
</div>

<div class="modal custom-modal fade" role="dialog" id="modal_conditions">
    <div class="modal-dialog" style="padding-right:17px !important ;padding-left:30px !important">
        <button type="button" class="close" id="btn_ConditionClose">&times;</button>
        <div class="modal-content">
            <div class="modal-header m-b-100">
                <h4 class="modal-title">Conditions</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Type<span class="text-danger">*</span></label>
                            @*<input type="text" id="txt_type" readonly="readonly" class="form-control" />*@
                            <select id="ddl_condition_type" class="form-control" disabled></select>   
                            <input type="hidden" id="hdn_txttype" />
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Condition </label>
                            <select id="separator_DP" disabled name="separatorDP" class="inputselect form-control" size="1">
                                <option value="">select</option>
                                <option value="AND">AND</option>
                                <option value="OR">OR</option>
                                <option value="NOT">Not</option>
                                <option value="(">(</option>
                                <option value=")">)</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Fields<span class="text-danger">*</span></label>
                            <select class="form-control"  id="ddl_fields" onchange="FieldsOnchange(this);">
                                <option value="0">Select</option>
                                @*<option class="lav" value="l1">Leave Type</option>*@
                                <option class="lav" value="NUMBER_OF_DAYS">No Of Days</option>
                                @*<option class="exp" value="e1">Expense Type</option>*@
                                <option class="exp" value="EXPENSE_AMOUNT">Amount</option>
                                <option class="advanceexp" value="AMOUNT">Amount</option>
                                <option class="userli"  value="PERSON_ID">User</option>
                                @*<option value="d2">Role</option>*@
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Opertor <span class="text-danger">*</span></label>
                            <select class="form-control" id="ddl_opertor">
                                <option selected value="0">Select</option>
                                <option value="=">Is</option>
                                <option value="<>">Is Not</option>
                                <option value=">">Is Greater than</option>
                                <option value="<">Is Less than</option>
                                <option value="<=">Is Less than or Equal to</option>
                                <option value=">=">Is Greater than or Equal to</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Value<span class="text-danger">*</span></label>
                            @Html.DropDownList("ddl_value", (IEnumerable<SelectListItem>)ViewBag.value, new { @class = "form-control", })
                            <input type="text" id="txt_value" class="form-control numberonlyjs" maxlength="3" />
                        </div>
                    </div>
                </div>

                <div class="row">
                    @*<div class="col-sm-4">
                        <div class="form-group">
                            <label>Condition </label>
                            <select id="separator_DP" name="separatorDP" class="inputselect form-control" size="1">
                                <option value="">select</option>
                                <option value="AND">AND</option>
                                <option value="OR">OR</option>
                                <option value="NOT">Not</option>
                                <option value="(">(</option>
                                <option value=")">)</option>
                            </select>
                        </div>
                    </div>*@
                </div>

                <button type="button" class="btn btn-primary" id="btn_criteria">Add this criteria to formula</button>
                <button type="button" class="btn btn-primary" id="btn_criteria_clear_text">Clear</button>
                <br />
                <br />
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Formula : </label>
                            <textarea class="form-control" readonly id="txt_formula" rows="5"></textarea>
                            <input type="hidden" id="hd_formula" value="" />

                        </div>
                    </div>
                </div>
                <div class="modal-header m-b-100">
                    <h4 class="modal-title">Approval</h4>
                </div>


                <div class="row">
                    <div class="col-sm-2">
                        <div class="row form-group">
                            <div class="col-sm-4 div_apprival_hierarchy">
                                <div class="radio">
                                    <label><input type="radio" id="hierarchy" name="Approval_name" value="Hierarchy">Hierarchy</label>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="col-sm-10">
                            <div class="row form-group">
                                <div class="col-sm-4 div_apprival_hierarchy">
                                    <div class="form-group">
                                        <label id="lb_name">Name<span class="text-danger">*</span></label>
                                        <select class="form-control" id="ddl_aproval_hierarchy_name"></select>
                                    </div>
                                </div>

                                <div class="col-sm-4 div_apprival_hierarchy">
                                    <div class="form-group ">
                                        <label>Max Level<span class="text-danger">*</span></label>
                                        <select class="form-control" id="ddl_aproval_hierarchy_max_level"></select>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <div class="radio">
                                <label><input type="radio" id="single_user" name="Approval_name" value="Single">Single User</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-10">
                        <div class="row form-group">
                            <div class="col-sm-4 div_apprival_single_user" id="div_apprival_single_user">
                                <div class="form-group">
                                    <label>Employee<span class="text-danger">*</span></label>
                                    <select class="form-control" id="ddl_aproval_auto_approve_emp_name"></select>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <div class="radio">
                                <label><input type="radio" id="auto_approval" name="Approval_name" value="Auto">Auto Approval</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-header m-b-100">
                    <h4 class="modal-title">FYI</h4>
                </div>
                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            <div class="checkbox">
                                <label><input type="checkbox" id="chk_fyeicheck" name="chk_fyeicheck" value="Auto">FYI</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-10">
                        <div class="row form-group">
                            <div class="col-sm-4 commonfyi">
                                <div class="form-group">
                                    <label>Frequency</label>
                                    <select class="form-control commonfyi" id="ddl_fyi_frequency">
                                        <option>Select</option>
                                        <option>All</option>
                                        <option>Level 1</option>
                                        <option>Level 2</option>
                                        <option>Level 3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-4 commonfyi">
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="text" id="txt_fyi" placeholder="Email" class="form-control" />
                                </div>
                            </div>
                            <div class="col-sm-4 commonfyi">
                                <div class="form-group">
                                    <label>Employee </label>
                                    <select class="form-control" id="ddl_fyi_employee_name"></select>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-primary" id="btn_conditionSave">Save</button>
                <button type="button" class="btn btn-primary" id="btn_conditionCancel">Cancel</button>
                @*<div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="radio">
                                <label><input type="radio" id="hierarchy" name="Approval_name" value="Hierarchy">Hierarchy</label>
                            </div>

                        </div>
                        <div class="row form-group">
                            <div class="col-sm-7 div_apprival_hierarchy">
                                <div class="form-group">
                                    <label id="lb_name">Name<span class="text-danger">*</span></label>
                                    <select class="form-control" id="ddl_aproval_hierarchy_name"> 
                                    </select>
                                </div>
                            </div>

                            <div class="col-sm-5 div_apprival_hierarchy">
                                <div class="form-group ">
                                    <label>Max Level<span class="text-danger">*</span></label>
                                    <select class="form-control" id="ddl_aproval_hierarchy_max_level">
                                    
                                    </select>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="radio">
                            <label><input type="radio" id="single_user" name="Approval_name" value="Single">Single User</label>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-12 div_apprival_single_user" id="div_apprival_single_user">
                                <div class="form-group">
                                    <label>Employee<span class="text-danger">*</span></label>
                                    <select class="form-control" id="ddl_aproval_auto_approve_emp_name">
                                      
                                    </select>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="radio">
                            <label><input type="radio" id="auto_approval" name="Approval_name" value="Auto">Auto Approval</label>
                        </div>
                    </div>


                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <div class="checkbox">
                                <label><input type="checkbox" id="chk_fyeicheck" name="chk_fyeicheck" value="Auto">FYI</label>
                            </div>

                            <label class="commonfyi">Frequency</label>
                            <select class="form-control commonfyi" id="ddl_fyi_frequency">
                                <option>Select</option>
                                <option>All</option>
                                <option>Level 1</option>
                                <option>Level 2</option>
                                <option>Level 3</option>
                            </select>

                        </div>
                    </div>
                    <div class="col-sm-4 commonfyi">
                        <div class="form-group">
                            <br />
                            <br />
                            <label>Email</label>
                            <input type="text" id="txt_fyi" placeholder="Email" class="form-control" />
                        </div>
                    </div>
                    <div class="col-sm-4 commonfyi">
                        <div class="form-group">
                            <br />
                            <br />
                            <label>Employee </label>
                            <select class="form-control" id="ddl_fyi_employee_name"> 
                            </select>
                        </div>

                    </div>
                     
                    <br />
                    <br />
                    <br /><br /><br /><br />
                    <br />
                    <br />
                    <button type="button" class="btn btn-primary" id="btn_conditionSave">Save</button>
                    <button type="button" class="btn btn-primary" id="btn_conditionCancel">Cancel</button>
                </div>*@
            </div>
        </div>
    </div> 
    <div class="clearfix"></div>
</div>


<div class="modal custom-modal fade" role="dialog" id="modal_condition_view">
    <div class="modal-dialog" style="padding-right:17px !important ;padding-left:30px !important">     
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <div class="modal-content">
            <div class="modal-header m-b-100">
                <h4 class="modal-title">Conditions</h4>
            </div>
            <div class="modal-body card-box">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Type</label>  
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">                          
                            <span id="v_type"></span> 

                        </div>
                    </div>        
                  </div>   
                

                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Formula </label> 
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label id="v_formula"></label> 
                        </div>
                    </div>
                </div>  

               
                <div class="modal-header m-b-100">
                    <h4 class="modal-title">Approval</h4>
                </div>

                <div class="row v_div_hierarchy">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Hierarchy </label>
                        </div>
                    </div>
                     
                </div>

                <div class="row v_div_hierarchy">
                    <div class="col-sm-4">
                        <div class="form-group">
                          
                            <label>Name </label> 
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span id="v_h_Name"></span> 
                        </div>
                    </div>
                </div>

                <div class="row v_div_hierarchy">
                    <div class="col-sm-4">
                        <div class="form-group">

                            <label>Max Level </label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group"> 
                             <span id="v_h_max_lavel"></span>
                        </div>
                    </div>
                </div>

                <div class="row v_div_singleuser">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Single User </label> 
                        </div>
                    </div>
                     
                </div>
                <div class="row v_div_singleuser">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Name </label>  
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                         
                          <span id="v_su_Name"></span>
                        </div>
                    </div>

                </div>
                <div class="row" id="v_div_autoapproval">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Auto Approval </label>
                           
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group"> 
                            <span id="v_au_autoapproval"></span>
                        </div>
                    </div>

                </div>

                <div class="modal-header m-b-100">
                    <h4 class="modal-title">FYI</h4>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Frequency </label>
                           
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">                             
                            <span id="v_fyi_frequency"></span>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Email </label>
                         
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span id="v_fyi_Email"></span>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Employee </label>
                         
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span id="v_fyi_Employee"></span>
                        </div>
                    </div>

                </div>
                </div>
            </div>
        </div>
    </div>


    
 
